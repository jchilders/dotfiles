[core]
  whitespace = fix,indent-with-non-tab,trailing-space,cr-at-eol
  excludesfile = ~/.gitignore
  editor = $EDITOR
  pager = delta
[branch]
  autoSetupMerge = true
[interactive]
  diffFilter = delta --color-only
[diff]
  tool = delta
[difftool]
  prompt = false
[merge]
  tool = vimdiff
[pull]
  rebase = true
[push]
  # Prevent the "There is no tracking information for the current branch" error
  # when pulling a branch that was just pushed. Also prevents having to do the
  # `git branch --setup-upstream-to=...` dance.
  autoSetupRemote = true

  # Only push the current branch
  default = current

  # useForceIfIncludes will cause `git push --force` to fail if the remote has
  # changes that don't exist locally
  useForceIfIncludes = true
[rerere]
  enabled = true
[rebase]
  autoStash = true

[alias]
  l = log --pretty=format:'%C(yellow)%h%Creset %s%C(auto)%d%Creset'
  ll = log --pretty=format:'%Cblue%h%Cgreen %s%C(yellow)%d%Creset' --decorate --numstat
  st = status -sb

  # copy branch to pasteboard
  cb = ! git rev-parse --abbrev-ref HEAD | tr -d '\n' | pbcopy

  co = "!sh -c 'echo \"ðŸš« checkout is forbidden. Use git switch or git restore.\" >&2; exit 1'"
  checkout = "!sh -c 'echo \"ðŸš« checkout is forbidden. Use git switch or git restore.\" >&2; exit 1'"

  br = branch
  sw = switch

  # what changed
  wc = log --raw

  # undo last commit
  undo = !git reset --hard remotes/origin/$(git rev-parse --abbrev-ref HEAD)

  # files changes on current branch from main
  df = !git diff --name-only main | xargs -I '{}' grealpath --relative-to=$PWD/$GIT_PREFIX $(git rev-parse --show-toplevel)/'{}'

  ; git for-each-ref refs/heads/pr/* --format=\"%(refname)\" | while read ref ; do branch=${ref#refs/heads/} ; git branch -D $branch ; done
[user]
  name = James Childers
  email = james.childers@gmail.com
[init]
  defaultBranch = main
[credential]
  helper = cache --timeout=600
[filter "lfs"]
  clean = git-lfs clean -- %f
  smudge = git-lfs smudge -- %f
  process = git-lfs filter-process
  required = true

; Various themes for the delta diff tool are here:
; https://raw.githubusercontent.com/dandavison/delta/master/themes.gitconfig
[delta "calochortus-lyallii"]
    # author: https://github.com/manojkarthick
  commit-decoration-style = none
  dark = true
  file-added-label = [+]
  file-copied-label = [C]
  file-decoration-style = none
  file-modified-label = [M]
  file-removed-label = [-]
  file-renamed-label = [R]
  file-style = 232 bold 184
  hunk-header-decoration-style = none
  hunk-header-file-style = "#999999"
  hunk-header-line-number-style = bold "#03a4ff"
  hunk-header-style = file line-number syntax
  line-numbers = true
  line-numbers-left-style = black
  line-numbers-minus-style = "#B10036"
  line-numbers-plus-style = "#03a4ff"
  line-numbers-right-style = black
  line-numbers-zero-style = "#999999"
  minus-emph-style = syntax bold "#780000"
  minus-style = syntax "#400000"
  plus-emph-style = syntax bold "#007800"
  plus-style = syntax "#004000"
  whitespace-error-style = "#280050" reverse
  zero-style = syntax
  syntax-theme = Nord

[delta]
  features = calochortus-lyallii ; seq. yello filenames. line #s. subtle green/red
